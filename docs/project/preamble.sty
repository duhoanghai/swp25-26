\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[babel]{csquotes}
\usepackage[bitstream-charter]{mathdesign}
\PassOptionsToPackage{german}{babel}
\usepackage{babel}
\usepackage{csquotes} % \enquote{} for correct quotation marks
\usepackage{microtype} % Small font stretching for better readability
\usepackage{pdflscape}
\usepackage{booktabs}
\usepackage{pdfpages} % PDF Seiten einfügen
\usepackage{pdfpages}
\setkomafont{title}{\normalfont}
\setkomafont{author}{\normalfont}
\setkomafont{date}{\normalfont}
\setkomafont{section}{\normalfont\bfseries\Large}
\setkomafont{subsection}{\normalfont\large}
\setkomafont{subsubsection}{\normalfont\itshape\normalsize}
\newcommand*\tocentryformat[1]{{\normalfont#1}}
\RedeclareSectionCommands
[
tocentryformat=\tocentryformat,
tocpagenumberformat=\tocentryformat
]
{section,subsection,subsubsection,paragraph,subparagraph}
\usepackage[hidelinks]{hyperref} % Links in PDF documents
\usepackage{bookmark} % Slight extension of hyperref package, pdf bookmark standard
\usepackage{graphicx} % ALlow including graphics
\usepackage{parskip}
\graphicspath{{./images/}}
\usepackage{enumitem}

\usepackage{float} % To allow H option to place floats RIGHT HERE in the text (less confusing for most)


% LISTINGS
\usepackage{listings}
\lstset{
	inputencoding=utf8,
	extendedchars=true,
	literate={ä}{{\"a}}1 {ö}{{\"o}}1  {ü}{{\"u}}1
}

% -----------------------------------------------
% Pseudocode environment taken and edited from https://tex.stackexchange.com/questions/111116/what-is-the-best-looking-pseudo-code-package/218450#218450
% -----------------------------------------------
%\newcounter{nalg}[chapter] % defines algorithm counter for chapter-level
%\renewcommand{\thenalg}{\thechapter .\arabic{nalg}} %defines appearance of the algorithm counter
%\DeclareCaptionLabelFormat{algocaption}{Algorithm \thenalg} % defines a new caption label as Algorithm x.y

\lstnewenvironment{lstpseudo}[1][] %defines the algorithm listing environment
{
	%	\refstepcounter{nalg} %increments algorithm number
	%	\captionsetup{labelformat=algocaption,labelsep=colon} %defines the caption setup for: it ises label format as the declared caption label above and makes label and caption text to be separated by a ':'
	\vspace{1em}\hspace{1em}\textbf{#1}\vspace{-.4em}
	\lstset{ %this is the stype
		mathescape=true,
		frame=tB,
		numbers=left,
		numberstyle=\tiny,
		basicstyle=\scriptsize,
		keywordstyle=\color{black}\bfseries\em,
		keywords={,input, output, return, repeat, until, datatype, function, for, to, in, if, then, else, foreach, do, while, begin, end, } %add the keywords you want, or load a language as Rubens explains in his comment above.
		numbers=left,
		xleftmargin=.04\textwidth,
		%		#1 % this is to add specific settings to an usage of this environment (for instnce, the caption and referable label)
	}
}
{}

\lstnewenvironment{lstjava}[1][] %defines the lstjava listing environment
{
	%	\refstepcounter{nalg} %increments algorithm number
	%	\captionsetup{labelformat=algocaption,labelsep=colon} %defines the caption setup for: it ises label format as the declared caption label above and makes label and caption text to be separated by a ':'
	\vspace{1em}\hspace{1em}\textbf{#1}\vspace{-.4em}
	\lstset{%
		language=Java,              % Sprachentyp definieren
		numbers=left,               % Zeilennummern links
		stepnumber=1,               % Jede Zeile nummerieren.
		keywordstyle=\color{violet}\textbf,
		% numbersep=5pt,                % Abstand der Nummern zum Quellcode
		numberstyle=\footnotesize,               % Zeichengr<F6>sse f<FC>r die Nummern.
		breaklines=true,                % Zeilen umbrechen wenn notwendig.
		breakautoindent=true,           % Nach dem Zeilenumbruch Zeile einr<FC>cken.
		postbreak=\space,               % Bei Leerzeichen umbrechen.
		tabsize=3,                      % Tabulatorgroesse
		numbersep=20pt,
		%	basicstyle=\small\fontfamily{cmtt},     % Nichtproportionale Schrift, klein f<FC>r den Quellcode
		showspaces=false,               % Leerzeichen nicht anzeigen.
		showstringspaces=false,         % Leerzeichen auch in Strings ('') nicht anzeigen.
		extendedchars=true,             % Alle Zeichen vom Latin1 Zeichensatz anzeigen.
		emphstyle = \underbar,
		captionpos = t,
		xleftmargin=0pt,
		%    xrightmargin=-120pt,
		framexleftmargin=7pt,
		framexrightmargin=7pt,
		framextopmargin=5pt,
		framexbottommargin=5pt,
		frame=rtlb %
	}
}
{}

\usepackage[headsepline, headtopline]{scrlayer-scrpage}


% Include a centered figure into the text.
% Arg1: Path to the image (root is the images folder)
% Arg2: Width in percentage of the linewidth (e.g. .8 for 80%, or 1.1 for 110%)
% Arg3: Caption of the image (should be short enough to fit into a table of contents), if you want a longer one use the other command \centergraphicslongcapt
\newcommand{\centergraphics}[3]{
	\centergraphicslongcapt{#1}{#2}{#3}{#3}
}
% Include a centered figure into the text
% Arg1: Path to the image (root is the images folder)
% Arg2: Width in percentage of the linewidth (e.g. .8 for 80%, or 1.1 for 110%)
% Arg3: Short Caption of the image for the table of contents
% Arg4: Long caption of the image for the text
\newcommand{\centergraphicslongcapt}[4]{
	\begin{figure}[!h]% Remove the !h if you don't want the graphics to be placed RIGHT THERE
		\centering%
		\makebox[\linewidth][c]{% makebox ensures image is centered even if it's too big
			\includegraphics[width=#2\linewidth]{#1}%
		}%
		\caption[#3]{#4}%
	\end{figure}
}